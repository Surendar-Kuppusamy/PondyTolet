{"ast":null,"code":"import { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunkMiddleware from 'redux-thunk';\nimport { rootReducer } from '../reducers';\nlet preloadedState;\nconst storeOnToLocalStorage = [\"INCREMENT\"];\nconst persistedTodosString = localStorage.getItem('state');\nconsole.log(persistedTodosString);\n\nconst saveLocal = ({\n  getState\n}) => {\n  return next => action => {\n    const result = next(action);\n    console.log('Middleware', action, getState(), storeOnToLocalStorage.indexOf(action.type));\n\n    if (storeOnToLocalStorage.indexOf(action.type) != -1) {\n      localStorage.setItem('state', JSON.stringify(getState()));\n    }\n\n    return result;\n  };\n};\n\nconsole.log(persistedTodosString, typeof persistedTodosString);\n\nif (typeof persistedTodosString == 'string') {\n  preloadedState = JSON.parse(persistedTodosString);\n}\n\nexport const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(saveLocal, thunkMiddleware)));","map":{"version":3,"sources":["D:/Apache/Apache24/htdocs/Server/React/DemoProject/demo/src/store/index.js"],"names":["applyMiddleware","createStore","composeWithDevTools","thunkMiddleware","rootReducer","preloadedState","storeOnToLocalStorage","persistedTodosString","localStorage","getItem","console","log","saveLocal","getState","next","action","result","indexOf","type","setItem","JSON","stringify","parse","store"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,eAAP,MAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,IAAIC,cAAJ;AACA,MAAMC,qBAAqB,GAAG,CAAC,WAAD,CAA9B;AACA,MAAMC,oBAAoB,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA7B;AAEAC,OAAO,CAACC,GAAR,CAAYJ,oBAAZ;;AAGA,MAAMK,SAAS,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAChC,SAAQC,IAAD,IAAWC,MAAD,IAAY;AAC3B,UAAMC,MAAM,GAAGF,IAAI,CAACC,MAAD,CAAnB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BI,MAA1B,EAAkCF,QAAQ,EAA1C,EAA8CP,qBAAqB,CAACW,OAAtB,CAA8BF,MAAM,CAACG,IAArC,CAA9C;;AACA,QAAGZ,qBAAqB,CAACW,OAAtB,CAA8BF,MAAM,CAACG,IAArC,KAA8C,CAAC,CAAlD,EAAqD;AACnDV,MAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,EAAvB,CAA9B;AACD;;AACD,WAAOG,MAAP;AACD,GAPD;AAQD,CATD;;AAWAN,OAAO,CAACC,GAAR,CAAYJ,oBAAZ,EAAkC,OAAOA,oBAAzC;;AAEA,IAAG,OAAOA,oBAAP,IAA+B,QAAlC,EAA4C;AAC1CF,EAAAA,cAAc,GAAGe,IAAI,CAACE,KAAL,CAAWf,oBAAX,CAAjB;AACD;;AAED,OAAO,MAAMgB,KAAK,GAAGtB,WAAW,CAACG,WAAD,EAAcC,cAAd,EAA8BH,mBAAmB,CAACF,eAAe,CAACY,SAAD,EAAYT,eAAZ,CAAhB,CAAjD,CAAzB","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { rootReducer } from '../reducers'\r\n\r\nlet preloadedState;\r\nconst storeOnToLocalStorage = [\"INCREMENT\"];\r\nconst persistedTodosString = localStorage.getItem('state');\r\n\r\nconsole.log(persistedTodosString);\r\n\r\n\r\nconst saveLocal = ({getState}) => {\r\n  return (next) => (action) => {\r\n    const result = next(action);\r\n    console.log('Middleware', action, getState(), storeOnToLocalStorage.indexOf(action.type));\r\n    if(storeOnToLocalStorage.indexOf(action.type) != -1) {\r\n      localStorage.setItem('state', JSON.stringify(getState()));\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\nconsole.log(persistedTodosString, typeof persistedTodosString);\r\n\r\nif(typeof persistedTodosString == 'string') {\r\n  preloadedState = JSON.parse(persistedTodosString)\r\n}\r\n\r\nexport const store = createStore(rootReducer, preloadedState, composeWithDevTools(applyMiddleware(saveLocal, thunkMiddleware)));\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}