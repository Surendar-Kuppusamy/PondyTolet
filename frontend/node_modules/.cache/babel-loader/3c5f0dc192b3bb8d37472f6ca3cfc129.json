{"ast":null,"code":"var _jsxFileName = \"D:\\\\Apache\\\\Apache24\\\\htdocs\\\\Server\\\\React\\\\DemoProject\\\\frontend\\\\src\\\\components\\\\pages\\\\common\\\\FileUploadComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst thumbsContainer = {\n  display: 'flex',\n  flexDirection: 'row',\n  flexWrap: 'wrap',\n  marginTop: 16\n};\nconst thumb = {\n  display: 'inline-flex',\n  borderRadius: 2,\n  border: '1px solid #eaeaea',\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: 'border-box'\n};\nconst thumbInner = {\n  display: 'flex',\n  minWidth: 0,\n  overflow: 'hidden'\n};\nconst img = {\n  display: 'block',\n  width: 'auto',\n  height: '100%'\n};\n\nfunction FileUploadComponent(props) {\n  _s();\n\n  const [files, setFiles] = useState([]);\n  const [filesData, setFilesData] = useState([]);\n\n  if (props.preview != undefined) {\n    setFiles(props.preview.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file)\n    })));\n  }\n\n  const onDrop = useCallback(acceptedFiles => {\n    acceptedFiles.forEach(file => {\n      const reader = new FileReader();\n\n      reader.onabort = () => console.log('file reading was aborted');\n\n      reader.onerror = () => console.log('file reading has failed');\n\n      reader.onloadend = () => {\n        // Do whatever you want with the file contents\n        const binaryStr = reader.result;\n        setFiles(acceptedFiles.map(file => Object.assign(file, {\n          preview: URL.createObjectURL(file)\n        })));\n        setFilesData(filesData.push(binaryStr));\n        props.setField.setFieldValue(props.fieldName, filesData);\n        console.log(binaryStr);\n      };\n\n      reader.readAsText(file);\n    });\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    acceptedFiles,\n    fileRejections\n  } = useDropzone({\n    noDrag: true,\n    multiple: true,\n    maxSize: 9000000,\n    onDrop,\n    maxFiles: props.maxFiles,\n    accept: props.fileTypes\n  });\n  const acceptedFileItems = files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: thumb,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: thumbInner,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: file.preview,\n        style: img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, file.name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this));\n  const fileRejectionItems = fileRejections.map(({\n    file,\n    errors\n  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"text-danger\",\n    children: [file.path, \" - \", file.size, \" bytes\", /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: errors.map(e => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: e.message\n      }, e.code, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, file.path, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", { ...getRootProps({\n        className: 'dropzone'\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-sm btn-primary\",\n        children: \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: acceptedFileItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: fileRejectionItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FileUploadComponent, \"k8qCZ6KwqxV2ST+0VCzdhX2ed78=\", false, function () {\n  return [useDropzone];\n});\n\n_c = FileUploadComponent;\nexport default FileUploadComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUploadComponent\");","map":{"version":3,"sources":["D:/Apache/Apache24/htdocs/Server/React/DemoProject/frontend/src/components/pages/common/FileUploadComponent.js"],"names":["React","useCallback","useState","useDropzone","thumbsContainer","display","flexDirection","flexWrap","marginTop","thumb","borderRadius","border","marginBottom","marginRight","width","height","padding","boxSizing","thumbInner","minWidth","overflow","img","FileUploadComponent","props","files","setFiles","filesData","setFilesData","preview","undefined","map","file","Object","assign","URL","createObjectURL","onDrop","acceptedFiles","forEach","reader","FileReader","onabort","console","log","onerror","onloadend","binaryStr","result","push","setField","setFieldValue","fieldName","readAsText","getRootProps","getInputProps","fileRejections","noDrag","multiple","maxSize","maxFiles","accept","fileTypes","acceptedFileItems","name","fileRejectionItems","errors","path","size","e","message","code","className"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport {useDropzone} from 'react-dropzone';\r\n\r\n\r\nconst thumbsContainer = {\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  flexWrap: 'wrap',\r\n  marginTop: 16\r\n};\r\n\r\nconst thumb = {\r\n  display: 'inline-flex',\r\n  borderRadius: 2,\r\n  border: '1px solid #eaeaea',\r\n  marginBottom: 8,\r\n  marginRight: 8,\r\n  width: 100,\r\n  height: 100,\r\n  padding: 4,\r\n  boxSizing: 'border-box'\r\n};\r\n\r\nconst thumbInner = {\r\n  display: 'flex',\r\n  minWidth: 0,\r\n  overflow: 'hidden'\r\n};\r\n\r\nconst img = {\r\n  display: 'block',\r\n  width: 'auto',\r\n  height: '100%'\r\n};\r\n\r\n\r\nfunction FileUploadComponent(props) {\r\n  \r\n  const [files, setFiles] = useState([]);\r\n  const [filesData, setFilesData] = useState([]);\r\n\r\n  if(props.preview != undefined) {\r\n    setFiles(props.preview.map(file => Object.assign(file, {\r\n      preview: URL.createObjectURL(file)\r\n    })));\r\n  }\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    acceptedFiles.forEach((file) => {\r\n      const reader = new FileReader()\r\n      reader.onabort = () => console.log('file reading was aborted')\r\n      reader.onerror = () => console.log('file reading has failed')\r\n      reader.onloadend = () => {\r\n      // Do whatever you want with the file contents\r\n        const binaryStr = reader.result\r\n        setFiles(acceptedFiles.map(file => Object.assign(file, {\r\n          preview: URL.createObjectURL(file)\r\n        })));\r\n        \r\n        setFilesData(filesData.push(binaryStr));\r\n        props.setField.setFieldValue(props.fieldName, filesData)\r\n        console.log(binaryStr);\r\n      }\r\n      reader.readAsText(file);\r\n    })\r\n  }, []);\r\n  const {getRootProps, getInputProps, acceptedFiles, fileRejections} = useDropzone({noDrag: true, multiple: true, maxSize: 9000000, onDrop, maxFiles:props.maxFiles, accept:props.fileTypes });\r\n  const acceptedFileItems = files.map(file => (\r\n    <div style={thumb} key={file.name}>\r\n      <div style={thumbInner}>\r\n        <img\r\n          src={file.preview}\r\n          style={img}\r\n        />\r\n      </div>\r\n    </div>\r\n  ));\r\n  const fileRejectionItems = fileRejections.map(({ file, errors }) => (\r\n    <li key={file.path} className=\"text-danger\">\r\n      {file.path} - {file.size} bytes\r\n      <ul>\r\n        {errors.map(e => (\r\n          <li key={e.code}>{e.message}</li>\r\n        ))}\r\n      </ul>\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      <div {...getRootProps({className: 'dropzone'})}>\r\n        <button type=\"button\" className=\"btn btn-sm btn-primary\">Upload File</button>\r\n        <input {...getInputProps()} />\r\n      </div>\r\n      <aside>\r\n        <h4>Files</h4>\r\n        <ul>{acceptedFileItems}</ul>\r\n        <ul>{fileRejectionItems}</ul>\r\n      </aside>\r\n    </section>\r\n  );\r\n}\r\nexport default FileUploadComponent;"]},"metadata":{},"sourceType":"module"}